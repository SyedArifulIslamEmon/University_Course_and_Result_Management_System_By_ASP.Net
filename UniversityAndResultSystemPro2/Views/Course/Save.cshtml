@using UniversityAndResultSystemPro2.Models
@model Course
@{
    ViewBag.Title = "Save";
    //List<Department> departments = ViewBag.departments;
    List<SelectListItem> selectListItemsDeparItems = ViewBag.departments;
    List<SelectListItem> selectListItemsSemesters = ViewBag.semesters;
    string message = ViewBag.message;
    string code = ViewBag.code;
    string name = ViewBag.name;

}

@if (message == "yes")
{
    <div class="alert alert-success">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Success!</strong> Course Save Successfully.
    </div>
}
else if (message == "no")
{
    <div class="alert alert-danger">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Failed!</strong>Course Save Failed.
    </div>
}
else if (message == "Code Not Unique")
{
    <div class="alert alert-danger">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Failed!</strong> "@code" already have in your Course list.
    </div>
}
else if (message == "Name Not Unique")
{
    <div class="alert alert-danger">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Failed!</strong> "@name" already have in your Course list.
    </div>
}


    @*<form id="saveform"  method="POST">
            <div style="margin-left: 425px;">
                <h1 style="font-size: 25px;">Save Course</h1>
                <div class="form-group">
                    <label for="Code">Code:</label>
                    <input type="text" class="form-control" placeholder="Must be 5 Character" name="Code" id="Code">
                </div>
                <div class="form-group">
                    <label for="Name">Name:</label>
                    <input type="text" class="form-control" placeholder="Name" name="Name" id="Name" >

                </div>
                <div class="form-group">
                    <label for="Cradit">Cradit:</label>
                    <input type="text" class="form-control" placeholder="Cradit-0.5 to 5.0" name="Cradit" id="Cradit" >

                </div>
                <div class="form-group">
                    <label for="Description">Description:</label>
                    <textarea class="form-control" rows="3" placeholder="Description" name="Description" id="Description"></textarea>
                </div>
                <div class="form-group">
                    <label for="DepartmentId">Department:</label>
                    <select id="DepartmentId" name="DepartmentId" style="margin-left: 10px; width: 179px;">
                        <option selected disabled>Choose Department</option>
                        @foreach (Department aDepartment in departments)
                        {
                            <option value="@aDepartment.Id">@aDepartment.Code</option>
                        }
                    </select>



                </div>
                <div class="form-group">
                    <label for="Semester">Semester:</label> <br/>
                    <select id="Semester" name="Semester" style=" margin-left: 26px; width: 179px;">
                        <option selected disabled>Choose Semester</option>
                        @foreach (semester aSemester in semesters)
                        {
                            <option value="@aSemester.Id">@aSemester.Name</option>
                        }
                    </select>

                </div>
                <button type="submit" class="btn btn-primary" value="save">Save</button>
            </div>

        </form>*@


    @using (Html.BeginForm())
    {
        <div style="margin-left: 425px;">
            <h1 style="font-size: 25px;">Save Course</h1>
            <div class="form-group">
                @Html.LabelFor(m => m.Code)
                @Html.TextBoxFor(m => m.Code, new { @class = "form-control", @style = "", @placeholder = "Minimum 5 Characters" })
                @Html.ValidationMessageFor(m => m.Code)
            </div>
            <div class="form-group">

                @Html.LabelFor(m => m.Name)
                @Html.TextBoxFor(m => m.Name, new { @class = "form-control", @placeholder="Name" })
                @Html.ValidationMessageFor(m => m.Name)
            </div>
            <div class="form-group">
               
                @Html.LabelFor(m => m.Cradit)
                @Html.TextBoxFor(m => m.Cradit, new { @class = "form-control", @placeholder = "0.5 - 5.0" })
                @Html.ValidationMessageFor(m => m.Cradit)
            </div>

            <div class="form-group">
                

                @Html.LabelFor(m => m.Description)
                @Html.TextAreaFor(m => m.Description, new { @class = "form-control", @placeholder = "Course Description"  })
                @Html.ValidationMessageFor(m => m.Description)
            </div>
            <div class="form-group">
                
                @Html.LabelFor(m => m.DepartmentId)
                @Html.DropDownListFor(m => m.DepartmentId, new SelectList(selectListItemsDeparItems, "Value", "Text"), "-- Select Department --", new {@class = "form-control" })
                @Html.ValidationMessageFor(m => m.DepartmentId)

            </div>
            <div class="form-group">
               

                @Html.LabelFor(m => m.SemesterId)
                @Html.DropDownListFor(m => m.SemesterId, new SelectList(selectListItemsSemesters, "Value", "Text"), "-- Select Semester --", new { @class = "form-control"})
                @Html.ValidationMessageFor(m => m.SemesterId)

            </div>
            <button type="submit" class="btn btn-primary" value="save" style="width: 100px;">Save</button>
        </div>

    }

@section scripts
{

    <script src="~/Scripts/jquery-3.1.0.js"></script>
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>

}